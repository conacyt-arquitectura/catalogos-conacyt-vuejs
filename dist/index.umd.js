!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("vue-class-component"),require("vue-property-decorator")):"function"==typeof define&&define.amd?define(["exports","axios","vue-class-component","vue-property-decorator"],t):t((e=e||self).catalogos={},e.axios,e.Component,e.vuePropertyDecorator)}(this,function(e,t,o,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,o=o&&o.hasOwnProperty("default")?o.default:o;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function i(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var a=function(){return(a=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function c(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}var s=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.selects=[],t.dummy=!1,t}return i(n,e),n.prototype.mounted=function(){this.getChildren(0,void 0)},n.prototype.getChildren=function(e,o){var r=this,n=r.hierarchy[e];if(n.path){var i=this.fixUrl(n.path,o),a=r.host+r.context+i;t.get(a).then(function(t){0==r.selects.length&&(r.selects=new Array(1)),r.selects[e]={options:t.data||new Array(t),prop:n.prop,label:n.label,selectLabel:n.selectLabel},r.dummy=!r.dummy})}},n.prototype.fixUrl=function(e,t){return e.replace("[id]",t)},n.prototype.selectChanged=function(e,t){if(t===this.hierarchy.length-1)this.$emit("input",e);else{this.selects=this.selects.slice(0,t+1);var o=this.hierarchy[t];this.getChildren(t+1,e[o.prop])}},c([r.Prop({type:String,default:""})],n.prototype,"host",void 0),c([r.Prop({type:String,default:""})],n.prototype,"context",void 0),c([r.Prop({type:Array,required:!0})],n.prototype,"hierarchy",void 0),c([r.Prop({type:Boolean,default:!0})],n.prototype,"required",void 0),n=c([o],n)}(r.Vue);var p,l,d,u,f,h=(p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{key:e.dummy},e._l(e.selects,function(t,r){return o("div",{key:r},[o("label",{attrs:{for:"nested-select-"+r}},[e._v("\n      "+e._s(t.selectLabel)+"\n    ")]),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"select.selected"}],attrs:{name:"nested-select-"+r,id:"nested-select-"+r,required:e.required},on:{change:[function(o){var r=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"selected",o.target.multiple?r:r[0])},function(o){return e.selectChanged(t.options[t.selected-1],r)}]}},e._l(t.options,function(r,n){return o("option",{key:n,domProps:{value:r[t.prop]}},[e._v(e._s(r[t.label]))])}),0)])}),0)},staticRenderFns:[]},d=void 0,u=!1,(f=("function"==typeof(l=s)?l.options:l)||{}).__file="NestedSelectComponent.vue",f.render||(f.render=p.render,f.staticRenderFns=p.staticRenderFns,f._compiled=!0,u&&(f.functional=!0)),f._scopeId=d,f),m={areaConocimiento:{path:"/areas-conocimiento",valueProp:"id",textProp:"descripcionEsp"},campo:{path:"/areas-conocimiento/{id}/campos",valueProp:"id",textProp:"descripcionEsp"},disciplina:{path:"/campos/{id}/disciplinas",valueProp:"id",textProp:"descripcionEsp"},subdisciplina:{path:"/disciplinas/{id}/subdisciplinas",valueProp:"id",textProp:"descripcionEsp"}},v=new(function(){return function(e,t){this.host=e||"",this.context=t||"/services/catalogos/api"}}()),y=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return i(n,e),Object.defineProperty(n.prototype,"globalOptions",{get:function(){return this.$CATALOGOS_DEFAULT_OPTIONS||v},enumerable:!0,configurable:!0}),n.prototype.created=function(){this.schema=m[this.name],this.selectName="catalogo-select-"+this.name,this.url=this.globalOptions.host+this.globalOptions.context+this.schema.path+this.queryParameters,this.loadOptions(this.pathVariable,"")},n.prototype.loadOptions=function(e,o){var r=this,n=this.url.replace("{id}",e);t.get(n).then(function(e){r.options=e.data})},c([r.Prop({type:String,default:""})],n.prototype,"pathVariable",void 0),c([r.Prop({type:String,default:""})],n.prototype,"queryParameters",void 0),c([r.Prop(String)],n.prototype,"label",void 0),c([r.Prop()],n.prototype,"value",void 0),c([r.Prop({type:String,required:!0,validator:function(e){return void 0!==m[e]}})],n.prototype,"name",void 0),c([r.Prop({type:String,default:"es"})],n.prototype,"lang",void 0),c([r.Prop({type:Boolean,default:!0})],n.prototype,"required",void 0),c([r.Watch("pathVariable")],n.prototype,"loadOptions",null),n=c([o],n)}(r.Vue);var b=function(e,t,o,r,n,i,a,c){var s=("function"==typeof o?o.options:o)||{};return s.__file="area-conocimiento.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,n&&(s.functional=!0)),s._scopeId=r,s}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("nested-select",{attrs:{host:e.options.host,hierarchy:e.hierarchyModel,required:e.required},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},staticRenderFns:[]},0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchyModel=[{path:"/areas-conocimiento",prop:"id",label:"descripcionEsp",selectLabel:"Area de conocimiento: "}],t}return i(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.$CATALOGOS_DEFAULT_OPTIONS||v},enumerable:!0,configurable:!0}),c([r.Prop({required:!0,type:Object})],t.prototype,"value",void 0),c([r.Prop({required:!1,default:!0,type:Boolean})],t.prototype,"required",void 0),t=c([o({components:{"nested-select":h},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})],t)}(r.Vue),void 0,!1);var _=function(e,t,o,r,n,i,a,c){var s=("function"==typeof o?o.options:o)||{};return s.__file="campo.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,n&&(s.functional=!0)),s._scopeId=r,s}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("nested-select",{attrs:{host:e.options.host,hierarchy:e.hierarchyModel,required:e.required},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},staticRenderFns:[]},0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchyModel=[{path:"/areas-conocimiento",prop:"id",label:"descripcionEsp",selectLabel:"Area de conocimiento: "},{path:"/areas-conocimiento/[id]/campos",prop:"id",label:"descripcionEsp",selectLabel:"Campo: "}],t}return i(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.$CATALOGOS_DEFAULT_OPTIONS||v},enumerable:!0,configurable:!0}),c([r.Prop({required:!0,type:Object})],t.prototype,"value",void 0),c([r.Prop({required:!1,default:!0,type:Boolean})],t.prototype,"required",void 0),t=c([o({components:{"nested-select":h},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})],t)}(r.Vue),void 0,!1);var P=function(e,t,o,r,n,i,a,c){var s=("function"==typeof o?o.options:o)||{};return s.__file="CatalogoComponent.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,n&&(s.functional=!0)),s._scopeId=r,s}({render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.label?o("label",{attrs:{for:e.selectName}},[e._v(e._s(e.label))]):e._e(),e._v(" "),o("select",{staticClass:"form-control",attrs:{name:e.selectName,id:e.selectName,required:e.required},on:{input:function(t){return e.$emit("input",e.options[t.target.selectedIndex-1])}}},[o("option",{attrs:{value:""}}),e._v(" "),e._l(e.options,function(t,r){return o("option",{key:r,domProps:{value:t[e.schema.valueProp],selected:e.value&&t[e.schema.valueProp]===e.value[e.schema.valueProp]}},[e._v(e._s(t[e.schema.textProp]))])})],2)])},staticRenderFns:[]},0,y,void 0,!1);var O=function(e,t,o,r,n,i,a,c){var s=("function"==typeof o?o.options:o)||{};return s.__file="disciplina.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,n&&(s.functional=!0)),s._scopeId=r,s}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("nested-select",{attrs:{host:e.options.host,hierarchy:e.hierarchyModel,required:e.required},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},staticRenderFns:[]},0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchyModel=[{path:"/areas-conocimiento",prop:"id",label:"descripcionEsp",selectLabel:"Area de conocimiento: "},{path:"/areas-conocimiento/[id]/campos",prop:"id",label:"descripcionEsp",selectLabel:"Campo: "},{path:"/campos/[id]/disciplinas",prop:"id",label:"descripcionEsp",selectLabel:"Disciplinas: "}],t}return i(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.$CATALOGOS_DEFAULT_OPTIONS||v},enumerable:!0,configurable:!0}),c([r.Prop({required:!0,type:Object})],t.prototype,"value",void 0),c([r.Prop({required:!1,default:!0,type:Boolean})],t.prototype,"required",void 0),t=c([o({components:{"nested-select":h},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})],t)}(r.Vue),void 0,!1);var g=function(e,t,o,r,n,i,a,c){var s=("function"==typeof o?o.options:o)||{};return s.__file="subdisciplina.vue",s.render||(s.render=e.render,s.staticRenderFns=e.staticRenderFns,s._compiled=!0,n&&(s.functional=!0)),s._scopeId=r,s}({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("nested-select",{attrs:{host:e.options.host,hierarchy:e.hierarchyModel,required:e.required},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})},staticRenderFns:[]},0,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hierarchyModel=[{path:"/areas-conocimiento",prop:"id",label:"descripcionEsp",selectLabel:"Area de conocimiento: "},{path:"/areas-conocimiento/[id]/campos",prop:"id",label:"descripcionEsp",selectLabel:"Campo: "},{path:"/campos/[id]/disciplinas",prop:"id",label:"descripcionEsp",selectLabel:"Disciplina: "},{path:"/disciplinas/[id]/subdisciplinas",prop:"id",label:"descripcionEsp",selectLabel:"Subdisciplina: "}],t}return i(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.$CATALOGOS_DEFAULT_OPTIONS||v},enumerable:!0,configurable:!0}),c([r.Prop({required:!0,type:Object})],t.prototype,"value",void 0),c([r.Prop({required:!1,default:!0,type:Boolean})],t.prototype,"required",void 0),t=c([o({components:{"nested-select":h},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})],t)}(r.Vue),void 0,!1),q={install:function(e,t){var o=a({},v,t);e.prototype.$CATALOGOS_DEFAULT_OPTIONS=o,e.component("catalogo",P),e.component("area-conocimiento",b),e.component("campo",_),e.component("disciplina",O),e.component("subdisciplina",g)}};e.AreaConocimientoComponent=b,e.CampoComponent=_,e.CatalogoComponent=P,e.DisciplinaComponent=O,e.SubdisciplinaComponent=g,e.default=q,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
